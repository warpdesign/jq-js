<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>JQ - JQ.css()</title>
  <link rel="stylesheet" href="../qunit/css/qunit-1.12.0.css">
  <link rel="Stylesheet" media="screen" href="../data/testsuite.css" />
</head>
<body id="body">
	<div id="qunit"></div>

	<!-- Test HTML -->
	<!-- this iframe is outside the #qunit-fixture so it won't reload constantly wasting time, but it means the tests must be "safe" and clean up after themselves -->
	<iframe id="loadediframe" name="loadediframe" style="display:none;" src="../data/iframe.html"></iframe>
	<dl id="dl" style="position:absolute;top:-32767px;left:-32767px;width:1px;">
	<div id="qunit-fixture">
		<p id="firstp">See <a id="simon1" href="http://simon.incutio.com/archive/2003/03/25/#getElementsBySelector" rel="bookmark">this blog entry</a> for more information.</p>
		<p id="ap">
			Here are some links in a normal paragraph: <a id="google" href="http://www.google.com/" title="Google!">Google</a>,
			<a id="groups" href="http://groups.google.com/" class="GROUPS">Google Groups (Link)</a>.
			This link has <code><a href="http://smin" id="anchor1">class="blog"</a></code>:
			<a href="http://diveintomark.org/" class="blog" hreflang="en" id="mark">diveintomark</a>

		</p>
		<div id="foo">
			<p id="sndp">Everything inside the red border is inside a div with <code>id="foo"</code>.</p>
			<p lang="en" id="en">This is a normal link: <a id="yahoo" href="http://www.yahoo.com/" class="blogTest">Yahoo</a></p>
			<p id="sap">This link has <code><a href="#2" id="anchor2">class="blog"</a></code>: <a href="http://simon.incutio.com/" class="blog link" id="simon">Simon Willison's Weblog</a></p>

		</div>
		<div id="nothiddendiv" style="height:1px;background:white;" class="nothiddendiv">
			<div id="nothiddendivchild"></div>
		</div>
		<span id="name+value"></span>
		<p id="first">Try them out:</p>
		<ul id="firstUL"></ul>
		<ol id="empty"></ol>
		<form id="form" action="formaction">
			<label for="action" id="label-for">Action:</label>
			<input type="text" name="action" value="Test" id="text1" maxlength="30"/>
			<input type="text" name="text2" value="Test" id="text2" disabled="disabled"/>
			<input type="radio" name="radio1" id="radio1" value="on"/>

			<input type="radio" name="radio2" id="radio2" checked="checked"/>
			<input type="checkbox" name="check" id="check1" checked="checked"/>
			<input type="checkbox" id="check2" value="on"/>

			<input type="hidden" name="hidden" id="hidden1"/>
			<input type="text" style="display:none;" name="foo[bar]" id="hidden2"/>

			<input type="text" id="name" name="name" value="name" />
			<input type="search" id="search" name="search" value="search" />

			<button id="button" name="button" type="button">Button</button>

			<textarea id="area1" maxlength="30">foobar</textarea>

			<select name="select1" id="select1">
				<option id="option1a" class="emptyopt" value="">Nothing</option>
				<option id="option1b" value="1">1</option>
				<option id="option1c" value="2">2</option>
				<option id="option1d" value="3">3</option>
			</select>
			<select name="select2" id="select2">
				<option id="option2a" class="emptyopt" value="">Nothing</option>
				<option id="option2b" value="1">1</option>
				<option id="option2c" value="2">2</option>
				<option id="option2d" selected="selected" value="3">3</option>
			</select>
			<select name="select3" id="select3" multiple="multiple">
				<option id="option3a" class="emptyopt" value="">Nothing</option>
				<option id="option3b" selected="selected" value="1">1</option>
				<option id="option3c" selected="selected" value="2">2</option>
				<option id="option3d" value="3">3</option>
				<option id="option3e">no value</option>
			</select>
			<select name="select4" id="select4" multiple="multiple">
				<optgroup disabled="disabled">
					<option id="option4a" class="emptyopt" value="">Nothing</option>
					<option id="option4b" disabled="disabled" selected="selected" value="1">1</option>
					<option id="option4c" selected="selected" value="2">2</option>
				</optgroup>
				<option selected="selected" disabled="disabled" id="option4d" value="3">3</option>
				<option id="option4e">no value</option>
			</select>
			<select name="select5" id="select5">
				<option id="option5a" value="3">1</option>
				<option id="option5b" value="2">2</option>
				<option id="option5c" value="1" data-attr="">3</option>
			</select>

			<object id="object1" codebase="stupid">
				<param name="p1" value="x1" />
				<param name="p2" value="x2" />
			</object>

			<span id="台北Táiběi"></span>
			<span id="台北" lang="中文"></span>
			<span id="utf8class1" class="台北Táiběi 台北"></span>
			<span id="utf8class2" class="台北"></span>
			<span id="foo:bar" class="foo:bar"></span>
			<span id="test.foo[5]bar" class="test.foo[5]bar"></span>

			<foo_bar id="foobar">test element</foo_bar>
		</form>
		<b id="floatTest">Float test.</b>
		<iframe id="iframe" name="iframe"></iframe>
		<form id="lengthtest">
			<input type="text" id="length" name="test"/>
			<input type="text" id="idTest" name="id"/>
		</form>
		<table id="table"></table>

		<form id="name-tests">
			<!-- Inputs with a grouped name attribute. -->
			<input name="types[]" id="types_all" type="checkbox" value="all" />
			<input name="types[]" id="types_anime" type="checkbox" value="anime" />
			<input name="types[]" id="types_movie" type="checkbox" value="movie" />
		</form>

		<form id="testForm" action="#" method="get">
			<textarea name="T3" rows="2" cols="15">?
Z</textarea>
			<input type="hidden" name="H1" value="x" />
			<input type="hidden" name="H2" />
			<input name="PWD" type="password" value="" />
			<input name="T1" type="text" />
			<input name="T2" type="text" value="YES" readonly="readonly" />
			<input type="checkbox" name="C1" value="1" />
			<input type="checkbox" name="C2" />
			<input type="radio" name="R1" value="1" />
			<input type="radio" name="R1" value="2" />
			<input type="text" name="My Name" value="me" />
			<input type="reset" name="reset" value="NO" />
			<select name="S1">
				<option value="abc">ABC</option>
				<option value="abc">ABC</option>
				<option value="abc">ABC</option>
			</select>
			<select name="S2" multiple="multiple" size="3">
				<option value="abc">ABC</option>
				<option value="abc">ABC</option>
				<option value="abc">ABC</option>
			</select>
			<select name="S3">
				<option selected="selected">YES</option>
			</select>
			<select name="S4">
				<option value="" selected="selected">NO</option>
			</select>
			<input type="submit" name="sub1" value="NO" />
			<input type="submit" name="sub2" value="NO" />
			<input type="image" name="sub3" value="NO" />
			<button name="sub4" type="submit" value="NO">NO</button>
			<input name="D1" type="text" value="NO" disabled="disabled" />
			<input type="checkbox" checked="checked" disabled="disabled" name="D2" value="NO" />
			<input type="radio" name="D3" value="NO" checked="checked" disabled="disabled" />
			<select name="D4" disabled="disabled">
				<option selected="selected" value="NO">NO</option>
			</select>
			<input id="list-test" type="text" />
			<datalist id="datalist">
				<option value="option"></option>
			</datalist>
		</form>
		<div id="moretests">
			<form>
				<div id="checkedtest" style="display:none;">
					<input type="radio" name="checkedtestradios" checked="checked"/>
					<input type="radio" name="checkedtestradios" value="on"/>
					<input type="checkbox" name="checkedtestcheckboxes" checked="checked"/>
					<input type="checkbox" name="checkedtestcheckboxes" />
				</div>
			</form>
			<div id="nonnodes"><span id="nonnodesElement">hi</span> there <!-- mon ami --></div>
			<div id="t2037">
				<div><div class="hidden">hidden</div></div>
			</div>
			<div id="t6652">
				<div></div>
			</div>
			<div id="no-clone-exception"><object><embed></embed></object></div>
		</div>

		<div id="tabindex-tests">
			<ol id="listWithTabIndex" tabindex="5">
				<li id="foodWithNegativeTabIndex" tabindex="-1">Rice</li>
				<li id="foodNoTabIndex">Beans</li>
				<li>Blinis</li>
				<li>Tofu</li>
			</ol>

			<div id="divWithNoTabIndex">I'm hungry. I should...</div>
			<span>...</span><a href="#" id="linkWithNoTabIndex">Eat lots of food</a><span>...</span> |
			<span>...</span><a href="#" id="linkWithTabIndex" tabindex="2">Eat a little food</a><span>...</span> |
			<span>...</span><a href="#" id="linkWithNegativeTabIndex" tabindex="-1">Eat no food</a><span>...</span>
			<span>...</span><a id="linkWithNoHrefWithNoTabIndex">Eat a burger</a><span>...</span>
			<span>...</span><a id="linkWithNoHrefWithTabIndex" tabindex="1">Eat some funyuns</a><span>...</span>
			<span>...</span><a id="linkWithNoHrefWithNegativeTabIndex" tabindex="-1">Eat some funyuns</a><span>...</span>
			<input id="inputWithoutTabIndex"/>
			<button id="buttonWithoutTabIndex"></button>
			<textarea id="textareaWithoutTabIndex"></textarea>
			<menu type="popup">
				<menuitem id="menuitemWithoutTabIndex" command="submitbutton" default/>
			</menu>
		</div>

		<div id="liveHandlerOrder">
			<span id="liveSpan1"><a href="#" id="liveLink1"></a></span>
			<span id="liveSpan2"><a href="#" id="liveLink2"></a></span>
		</div>

		<div id="siblingTest">
			<em id="siblingfirst">1</em>
			<em id="siblingnext">2</em>
			<em id="siblingthird">
				<em id="siblingchild">
					<em id="siblinggrandchild">
						<em id="siblinggreatgrandchild"></em>
					</em>
				</em>
			</em>
			<span id="siblingspan"></span>
		</div>
		<div id="fx-test-group" style="position: absolute; width: 1px; height: 1px; overflow: hidden;">
			<div id="fx-queue" name="test">
				<div id="fadein" class='chain-test' name='div'>fadeIn<div>fadeIn</div></div>
				<div id="fadeout" class='chain-test chain-test-out'>fadeOut<div>fadeOut</div></div>

				<div id="show" class='chain-test'>show<div>show</div></div>
				<div id="hide" class='chain-test chain-test-out'>hide<div>hide</div></div>
				<div id="easehide" class='chain-test chain-test-out'>hide<div>hide</div></div>

				<div id="togglein" class='chain-test'>togglein<div>togglein</div></div>
				<div id="toggleout" class='chain-test chain-test-out'>toggleout<div>toggleout</div></div>
				<div id="easetoggleout" class='chain-test chain-test-out'>toggleout<div>toggleout</div></div>

				<div id="slideup" class='chain-test'>slideUp<div>slideUp</div></div>
				<div id="slidedown" class='chain-test chain-test-out'>slideDown<div>slideDown</div></div>
				<div id="easeslideup" class='chain-test'>slideUp<div>slideUp</div></div>

				<div id="slidetogglein" class='chain-test'>slideToggleIn<div>slideToggleIn</div></div>
				<div id="slidetoggleout" class='chain-test chain-test-out'>slideToggleOut<div>slideToggleOut</div></div>

				<div id="fadetogglein" class='chain-test'>fadeToggleIn<div>fadeToggleIn</div></div>
				<div id="fadetoggleout" class='chain-test chain-test-out'>fadeToggleOut<div>fadeToggleOut</div></div>

				<div id="fadeto" class='chain-test'>fadeTo<div>fadeTo</div></div>
			</div>

			<div id="fx-tests"></div>
			<span id="display"></span>
		</div>
	</div>
	</dl>
	<map name="imgmap" id="imgmap">
		<area shape="rect" coords="0,0,200,50">
	</map>
  <script type="text/javascript" src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
  <script type="text/javascript">
	$$ = jQuery.noConflict(true);
  </script>
  <script src="../qunit/js/qunit-1.12.0.js"></script>
<!--
  <script src="../../js/deferred.js"></script>
  <script src="../../js/jq.js"></script>
-->
<!--  <script src="../../js/deferred.js"></script>-->
  <script src="../../build/jq.min.js"></script>
<script type="text/javascript">
        if (document.location.href.match(/jquery/)) {
            console.log('switching to jQuery');
            $ = jQuery = jq = $$;
        } else {
            console.log('no need to switch', document.location.href);
        }
    </script>    
  <script src="../data/testinit.js"></script>
  <script type="text/javascript">
    test("css(String|Hash)", function() {
        expect( 39 );
    
        equal( jq("#qunit-fixture").css("display"), "block", "Check for css property \"display\"" );
    
        var $child, div, div2, width, height, child, prctval, checkval, old;
    
        $child = jq("#nothiddendivchild").css({ "width": "20%", "height": "20%" });
        notEqual( $child.css("width"), "20px", "Retrieving a width percentage on the child of a hidden div returns percentage" );
        notEqual( $child.css("height"), "20px", "Retrieving a height percentage on the child of a hidden div returns percentage" );
    
        div = jq( "<div>" );
    
        // These should be "auto" (or some better value)
        // temporarily provide "0px" for backwards compat
        equal( div.css("width"), "0px", "Width on disconnected node." );
        equal( div.css("height"), "0px", "Height on disconnected node." );
    
        div.css({ "width": 4, "height": 4 });
    
        equal( div.css("width"), "4px", "Width on disconnected node." );
        equal( div.css("height"), "4px", "Height on disconnected node." );
    
        div2 = jq( "<div style='display:none;'><input type='text' style='height:20px;'/><textarea style='height:20px;'/><div style='height:20px;'></div></div>").appendTo("body");
    
        equal( div2.find("input").css("height"), "20px", "Height on hidden input." );
        equal( div2.find("textarea").css("height"), "20px", "Height on hidden textarea." );
        equal( div2.find("div").css("height"), "20px", "Height on hidden textarea." );
    
        div2.remove();
    
        // handle negative numbers by setting to zero #11604
        jq("#nothiddendiv").css( {"width": 1, "height": 1} );
    
        width = parseFloat(jq("#nothiddendiv").css("width"));
        height = parseFloat(jq("#nothiddendiv").css("height"));
        jq("#nothiddendiv").css({ "overflow":"hidden", "width": -1, "height": -1 });
        equal( parseFloat(jq("#nothiddendiv").css("width")), 0, "Test negative width set to 0");
        equal( parseFloat(jq("#nothiddendiv").css("height")), 0, "Test negative height set to 0");
    
        equal( jq("<div style='display: none;'>").css("display"), "none", "Styles on disconnected nodes");
    
        jq("#floatTest").css({"float": "right"});
        equal( jq("#floatTest").css("float"), "right", "Modified CSS float using \"float\": Assert float is right");
        jq("#floatTest").css({"font-size": "30px"});
        equal( jq("#floatTest").css("font-size"), "30px", "Modified CSS font-size: Assert font-size is 30px");
        jq.each("0,0.25,0.5,0.75,1".split(","), function(i, n) {
            jq("#foo").css({"opacity": n});
    
            equal( jq("#foo").css("opacity"), parseFloat(n), "Assert opacity is " + parseFloat(n) + " as a String" );
            jq("#foo").css({"opacity": parseFloat(n)});
            equal( jq("#foo").css("opacity"), parseFloat(n), "Assert opacity is " + parseFloat(n) + " as a Number" );
        });
        jq("#foo").css({"opacity": ""});
        equal( jq("#foo").css("opacity"), "1", "Assert opacity is 1 when set to an empty String" );
    
        // equal( jq("#empty").css("opacity"), "0", "Assert opacity is accessible via filter property set in stylesheet in IE" );
        jq("#empty").css({ "opacity": "1" });
        equal( jq("#empty").css("opacity"), "1", "Assert opacity is taken from style attribute when set vs stylesheet in IE with filters" );
    
        div = jq("#nothiddendiv");
        child = jq("#nothiddendivchild");
    
        equal( parseInt(div.css("fontSize"), 10), 16, "Verify fontSize px set." );
        equal( parseInt(div.css("font-size"), 10), 16, "Verify fontSize px set." );
        equal( parseInt(child.css("fontSize"), 10), 16, "Verify fontSize px set." );
        equal( parseInt(child.css("font-size"), 10), 16, "Verify fontSize px set." );
    
        child.css("height", "100%");
        equal( child[0].style.height, "100%", "Make sure the height is being set correctly." );
    
        child.attr("class", "em");
        equal( parseInt(child.css("fontSize"), 10), 32, "Verify fontSize em set." );
    
        // Have to verify this as the result depends upon the browser's CSS
        // support for font-size percentages
        child.attr("class", "prct");
        prctval = parseInt(child.css("fontSize"), 10);
        checkval = 0;
        if ( prctval === 16 || prctval === 24 ) {
            checkval = prctval;
        }
    
        equal( prctval, checkval, "Verify fontSize % set." );
    
        equal( typeof child.css("width"), "string", "Make sure that a string width is returned from css('width')." );
    
        old = child[0].style.height;
    
        // Test NaN
        child.css("height", parseFloat("zoo"));
        equal( child[0].style.height, old, "Make sure height isn't changed on NaN." );
    
        // Test null
        child.css("height", null);
        equal( child[0].style.height, old, "Make sure height isn't changed on null." );
    
        old = child[0].style.fontSize;
    
        // Test NaN
        child.css("font-size", parseFloat("zoo"));
        equal( child[0].style.fontSize, old, "Make sure font-size isn't changed on NaN." );
    
        // Test null
        child.css("font-size", null);
        equal( child[0].style.fontSize, old, "Make sure font-size isn't changed on null." );
    });
    
    test("css() explicit and relative values", function() {
        expect( 30 );
        var $elem = jq("#nothiddendiv");
    
        $elem.css({ "width": 1, "height": 1, "paddingLeft": "1px", "opacity": 1 });
        equal( $elem.css("width"), "1px", "Initial css set or width/height works (hash)" );
        equal( $elem.css("paddingLeft"), "1px", "Initial css set of paddingLeft works (hash)" );
        equal( $elem.css("opacity"), "1", "Initial css set of opacity works (hash)" );
    
        $elem.css({ width: "+=9" });
        equal( $elem.css("width"), "10px", "'+=9' on width (hash)" );
    
        $elem.css({ "width": "-=9" });
        equal( $elem.css("width"), "1px", "'-=9' on width (hash)" );
    
        $elem.css({ "width": "+=9px" });
        equal( $elem.css("width"), "10px", "'+=9px' on width (hash)" );
    
        $elem.css({ "width": "-=9px" });
        equal( $elem.css("width"), "1px", "'-=9px' on width (hash)" );
    
        $elem.css( "width", "+=9" );
        equal( $elem.css("width"), "10px", "'+=9' on width (params)" );
    
        $elem.css( "width", "-=9" ) ;
        equal( $elem.css("width"), "1px", "'-=9' on width (params)" );
    
        $elem.css( "width", "+=9px" );
        equal( $elem.css("width"), "10px", "'+=9px' on width (params)" );
    
        $elem.css( "width", "-=9px" );
        equal( $elem.css("width"), "1px", "'-=9px' on width (params)" );
    
        $elem.css( "width", "-=-9px" );
        equal( $elem.css("width"), "10px", "'-=-9px' on width (params)" );
    
        $elem.css( "width", "+=-9px" );
        equal( $elem.css("width"), "1px", "'+=-9px' on width (params)" );
    
        $elem.css({ "paddingLeft": "+=4" });
        equal( $elem.css("paddingLeft"), "5px", "'+=4' on paddingLeft (hash)" );
    
        $elem.css({ "paddingLeft": "-=4" });
        equal( $elem.css("paddingLeft"), "1px", "'-=4' on paddingLeft (hash)" );
    
        $elem.css({ "paddingLeft": "+=4px" });
        equal( $elem.css("paddingLeft"), "5px", "'+=4px' on paddingLeft (hash)" );
    
        $elem.css({ "paddingLeft": "-=4px" });
        equal( $elem.css("paddingLeft"), "1px", "'-=4px' on paddingLeft (hash)" );
    
        $elem.css({ "padding-left": "+=4" });
        equal( $elem.css("paddingLeft"), "5px", "'+=4' on padding-left (hash)" );
    
        $elem.css({ "padding-left": "-=4" });
        equal( $elem.css("paddingLeft"), "1px", "'-=4' on padding-left (hash)" );
    
        $elem.css({ "padding-left": "+=4px" });
        equal( $elem.css("paddingLeft"), "5px", "'+=4px' on padding-left (hash)" );
    
        $elem.css({ "padding-left": "-=4px" });
        equal( $elem.css("paddingLeft"), "1px", "'-=4px' on padding-left (hash)" );
    
        $elem.css( "paddingLeft", "+=4" );
        equal( $elem.css("paddingLeft"), "5px", "'+=4' on paddingLeft (params)" );
    
        $elem.css( "paddingLeft", "-=4" );
        equal( $elem.css("paddingLeft"), "1px", "'-=4' on paddingLeft (params)" );
    
        $elem.css( "padding-left", "+=4px" );
        equal( $elem.css("paddingLeft"), "5px", "'+=4px' on padding-left (params)" );
    
        $elem.css( "padding-left", "-=4px" );
        equal( $elem.css("paddingLeft"), "1px", "'-=4px' on padding-left (params)" );
    
        $elem.css({ "opacity": "-=0.5" });
        equal( $elem.css("opacity"), "0.5", "'-=0.5' on opacity (hash)" );
    
        $elem.css({ "opacity": "+=0.5" });
        equal( $elem.css("opacity"), "1", "'+=0.5' on opacity (hash)" );
    
        $elem.css( "opacity", "-=0.5" );
        equal( $elem.css("opacity"), "0.5", "'-=0.5' on opacity (params)" );
    
        $elem.css( "opacity", "+=0.5" );
        equal( $elem.css("opacity"), "1", "'+=0.5' on opacity (params)" );
        
        $elem.css( "order", 2 );
        equal( $elem.css("order"), "2", "2 on order" );
    });
    
    test("css(String, Object)", function() {
        expect( 19 );
        var j, div, display, ret, success;
    
        jq("#nothiddendiv").css("top", "-1em");
        ok( jq("#nothiddendiv").css("top"), -16, "Check negative number in EMs." );
    
        jq("#floatTest").css("float", "left");
        equal( jq("#floatTest").css("float"), "left", "Modified CSS float using \"float\": Assert float is left");
        jq("#floatTest").css("font-size", "20px");
        equal( jq("#floatTest").css("font-size"), "20px", "Modified CSS font-size: Assert font-size is 20px");
    
        jq.each("0,0.25,0.5,0.75,1".split(","), function(i, n) {
            jq("#foo").css("opacity", n);
            equal( jq("#foo").css("opacity"), parseFloat(n), "Assert opacity is " + parseFloat(n) + " as a String" );
            jq("#foo").css("opacity", parseFloat(n));
            equal( jq("#foo").css("opacity"), parseFloat(n), "Assert opacity is " + parseFloat(n) + " as a Number" );
        });
        jq("#foo").css("opacity", "");
        equal( jq("#foo").css("opacity"), "1", "Assert opacity is 1 when set to an empty String" );
    
        // using contents will get comments regular, text, and comment nodes
        j = jq("#nonnodes").contents();
        j.css("overflow", "visible");
        equal( j.css("overflow"), "visible", "Check node,textnode,comment css works" );
        // opera sometimes doesn't update 'display' correctly, see #2037
        jq("#t2037")[0].innerHTML = jq("#t2037")[0].innerHTML;
        equal( jq("#t2037 .hidden").css("display"), "none", "Make sure browser thinks it is hidden" );
    
        div = jq("#nothiddendiv");
        display = div.css("display");
        ret = div.css("display", undefined);
    
        equal( ret, div, "Make sure setting undefined returns the original set." );
        equal( div.css("display"), display, "Make sure that the display wasn't changed." );
    
        // Test for Bug #5509
        success = true;
        try {
            jq("#foo").css("backgroundColor", "rgba(0, 0, 0, 0.1)");
        }
        catch (e) {
            success = false;
        }
        ok( success, "Setting RGBA values does not throw Error" );
    });
    
    test( "css(Array)", function() {
        expect( 2 );
    
        var expectedMany = {
                "overflow": "visible",
                "width": "16px"
            },
            expectedSingle = {
                "width": "16px"
            },
            elem = jq("<div></div>").appendTo("#qunit-fixture");
    
        deepEqual( elem.css( expectedMany ).css([ "overflow", "width" ]), expectedMany, "Getting multiple element array" );
        deepEqual( elem.css( expectedSingle ).css([ "width" ]), expectedSingle, "Getting single element array" );
    });
    
    test("css(String, Function)", function() {
        expect(3);
    
        var index,
            sizes = ["10px", "20px", "30px"];
    
        jq("<div id='cssFunctionTest'><div class='cssFunction'></div>" +
                     "<div class='cssFunction'></div>" +
                     "<div class='cssFunction'></div></div>")
            .appendTo("body");
    
        index = 0;
    
        jq("#cssFunctionTest div").css("font-size", function() {
            var size = sizes[index];
            index++;
            return size;
        });
    
        index = 0;
    
        jq("#cssFunctionTest div").each(function() {
            var computedSize = jq(this).css("font-size"),
                expectedSize = sizes[index];
            equal( computedSize, expectedSize, "Div #" + index + " should be " + expectedSize );
            index++;
        });
    
        jq("#cssFunctionTest").remove();
    });
    
    test("css(String, Function) with incoming value", function() {
        expect(3);
    
        var index,
            sizes = ["10px", "20px", "30px"];
    
        jq("<div id='cssFunctionTest'><div class='cssFunction'></div>" +
                     "<div class='cssFunction'></div>" +
                     "<div class='cssFunction'></div></div>")
            .appendTo("body");
    
        index = 0;
    
        jq("#cssFunctionTest div").css("font-size", function() {
            var size = sizes[index];
            index++;
            return size;
        });
    
        index = 0;
    
        jq("#cssFunctionTest div").css("font-size", function(i, computedSize) {
            var expectedSize = sizes[index];
            equal( computedSize, expectedSize, "Div #" + index + " should be " + expectedSize );
            index++;
            return computedSize;
        });
    
        jq("#cssFunctionTest").remove();
    });
    
    test("css(Object) where values are Functions", function() {
        expect(3);
    
        var index,
            sizes = ["10px", "20px", "30px"];
    
        jq("<div id='cssFunctionTest'><div class='cssFunction'></div>" +
                     "<div class='cssFunction'></div>" +
                     "<div class='cssFunction'></div></div>")
            .appendTo("body");
    
        index = 0;
    
        jq("#cssFunctionTest div").css({"fontSize": function() {
            var size = sizes[index];
            index++;
            return size;
        }});
    
        index = 0;
    
        jq("#cssFunctionTest div").each(function() {
            var computedSize = jq(this).css("font-size"),
                expectedSize = sizes[index];
            equal( computedSize, expectedSize, "Div #" + index + " should be " + expectedSize );
            index++;
        });
    
        jq("#cssFunctionTest").remove();
    });
    
    test("css(Object) where values are Functions with incoming values", function() {
        expect(3);
    
        var index,
            sizes = ["10px", "20px", "30px"];
    
        jq("<div id='cssFunctionTest'><div class='cssFunction'></div>" +
                     "<div class='cssFunction'></div>" +
                     "<div class='cssFunction'></div></div>")
            .appendTo("body");
    
        index = 0;
    
        jq("#cssFunctionTest div").css({"fontSize": function() {
            var size = sizes[index];
            index++;
            return size;
        }});
    
        index = 0;
    
        jq("#cssFunctionTest div").css({"font-size": function(i, computedSize) {
            var expectedSize = sizes[index];
            equal( computedSize, expectedSize, "Div #" + index + " should be " + expectedSize );
            index++;
            return computedSize;
        }});
    
        jq("#cssFunctionTest").remove();
    });
    
    test("show(); hide()", function() {
        expect(22);
    
        var hiddendiv, div, pass, old, test;
    
        hiddendiv = jq("div.hidden");
        hiddendiv.hide();
        equal( hiddendiv.css("display"), "none", "Non-detached div hidden" );
        hiddendiv.show();
        equal( hiddendiv.css("display"), "block", "Pre-hidden div shown" );
    
        div = jq("<div>").hide();
        equal( div.css("display"), "none", "Detached div hidden" );
        div.appendTo("#qunit-fixture").show();
        equal( div.css("display"), "block", "Pre-hidden div shown" );
    
        QUnit.reset();
    
        hiddendiv = jq("div.hidden");
    
        equal(jq.css( hiddendiv[0], "display"), "none", "hiddendiv is display: none");
    
        hiddendiv.css("display", "block");
        equal(jq.css( hiddendiv[0], "display"), "block", "hiddendiv is display: block");
    
        hiddendiv.show();
        equal(jq.css( hiddendiv[0], "display"), "block", "hiddendiv is display: block");
    
        hiddendiv.css("display","");
    
        pass = true;
        div = jq("#qunit-fixture div");
        div.show().each(function(){
            if ( this.style.display === "none" ) {
                pass = false;
            }
        });
        ok( pass, "Show" );
    
        // #show-tests * is set display: none in CSS
        jq("#qunit-fixture").append("<div id='show-tests'><div><p><a href='#'></a></p><code></code><pre></pre><span></span></div><table><thead><tr><th></th></tr></thead><tbody><tr><td></td></tr></tbody></table><ul><li></li></ul></div><table id='test-table'></table>");
    
        old = jq("#test-table").show().css("display") !== "table";
        jq("#test-table").remove();
    
        test = {
            "div"      : "block",
            "p"        : "block",
            "a"        : "inline",
            "code"     : "inline",
            "pre"      : "block",
            "span"     : "inline",
            "table"    : old ? "block" : "table",
            "thead"    : old ? "block" : "table-header-group",
            "tbody"    : old ? "block" : "table-row-group",
            "tr"       : old ? "block" : "table-row",
            "th"       : old ? "block" : "table-cell",
            "td"       : old ? "block" : "table-cell",
            "ul"       : "block",
            "li"       : old ? "block" : "list-item"
        };
    
        jq.each(test, function(selector, expected) {
            var elem = jq(selector, "#show-tests").show();
            equal( elem.css("display"), expected, "Show using correct display type for " + selector );
        });
    
        // Make sure that showing or hiding a text node doesn't cause an error
        jq("<div>test</div> text <span>test</span>").show().remove();
        jq("<div>test</div> text <span>test</span>").hide().remove();
    });
    
    test("show() resolves correct default display #8099", function() {
        expect(7);
        var tt8099 = jq("<tt/>").appendTo("body"),
                dfn8099 = jq("<dfn/>", { "html": "foo"}).appendTo("body");
    
        equal( tt8099.css("display"), "none", "default display override for all tt" );
        equal( tt8099.show().css("display"), "inline", "Correctly resolves display:inline" );
    
        equal( jq("#foo").hide().show().css("display"), "block", "Correctly resolves display:block after hide/show" );
    
        equal( tt8099.hide().css("display"), "none", "default display override for all tt" );
        equal( tt8099.show().css("display"), "inline", "Correctly resolves display:inline" );
    
        equal( dfn8099.css("display"), "none", "default display override for all dfn" );
        equal( dfn8099.show().css("display"), "inline", "Correctly resolves display:inline" );
    
        tt8099.remove();
        dfn8099.remove();
    });
    
    test( "show() resolves correct default display for detached nodes", function(){
        expect( 13 );
    
        var div, span, tr, trDisplay;
        
        div = jq("<div class='hidden'>");
        div.show().appendTo("#qunit-fixture");
        equal( div.css("display"), "block", "Make sure a detached, pre-hidden( through stylesheets ) div is visible." );
    
        div = jq("<div style='display: none'>");

        div.show().appendTo("#qunit-fixture");
        equal( div.css("display"), "block", "Make sure a detached, pre-hidden( through inline style ) div is visible." );
    
        span = jq("<span class='hidden'/>");

        span.show().appendTo("#qunit-fixture");
        equal( span.css("display"), "inline", "Make sure a detached, pre-hidden( through stylesheets ) span has default display." );
    
        span = jq("<span style='display: inline'/>");
        span.show().appendTo("#qunit-fixture");
        equal( span.css("display"), "inline", "Make sure a detached, pre-hidden( through inline style ) span has default display." );
    
        div = jq("<div><div class='hidden'></div></div>").children("div");
        div.show().appendTo("#qunit-fixture");
        equal( div.css("display"), "block", "Make sure a detached, pre-hidden( through stylesheets ) div inside another visible div is visible." );
    
        div = jq("<div><div style='display: none'></div></div>").children("div");
        div.show().appendTo("#qunit-fixture");
        equal( div.css("display"), "block", "Make sure a detached, pre-hidden( through inline style ) div inside another visible div is visible." );
    
        div = jq("div.hidden");
        div.detach().show();
        equal( div.css("display"), "block", "Make sure a detached( through detach() ), pre-hidden div is visible." );
        div.remove();
    
        span = jq("<span>");
        span.appendTo("#qunit-fixture").detach().show().appendTo("#qunit-fixture" );
        equal( span.css("display"), "inline", "Make sure a detached( through detach() ), pre-hidden span has default display." );
        span.remove();
    
        div = jq("<div>");

        div.show();
        div.appendTo("#qunit-fixture");
        ok( !!div.get( 0 ).style.display, "Make sure not hidden div has a inline style." );
        div.remove();
    
        div = jq( document.createElement("div") );
        div.show().appendTo("#qunit-fixture");
        equal( div.css("display"), "block", "Make sure a pre-created element has default display." );
        div.remove();
    
        div = jq("<div style='display: inline'/>");

        div.show().appendTo("#qunit-fixture");
        equal( div.css("display"), "inline", "Make sure that element has same display when it was created." );
        div.remove();
    
        tr = jq("<tr/>");
        jq("#table").append( tr );

        trDisplay = tr.css( "display" );
        tr.detach().hide().show();
        
        equal( tr[ 0 ].style.display, trDisplay, "For detached tr elements, display should always be like for attached trs" );
        tr.remove();
    
        span = jq("<span/>");
        debugger;
        span.hide().show();
        equal( span[ 0 ].style.display, "inline", "For detached span elements, display should always be inline" );
        span.remove();
    });
    
    test("show() resolves correct default display #10227", function() {
        expect(4);
    
        var html = jQuery( document.documentElement ),
            body = jQuery( "body" );
    
        body.append( "<p class='ddisplay'>a<style>body{display:none}</style></p>" );
    
        equal( body.css("display"), "none", "Initial display for body element: none" );
    
        body.show();
        equal( body.css("display"), "block", "Correct display for body element: block" );
    
        body.append( "<p class='ddisplay'>a<style>html{display:none}</style></p>" );
    
        equal( html.css("display"), "none", "Initial display for html element: none" );
        
        html.show();
        equal( html.css( "display" ), "block", "Correct display for html element: block" );
    
        jQuery( ".ddisplay" ).remove();
    });
    
    test("show() resolves correct default display when iframe display:none #12904", function() {
        expect(2);
    
        var ddisplay = jq(
            "<p id='ddisplay'>a<style>p{display:none}iframe{display:none !important}</style></p>"
        ).appendTo("body");
    
        equal( ddisplay.css("display"), "none", "Initial display: none" );
    
        ddisplay.show();
        equal( ddisplay.css("display"), "block", "Correct display: block" );
    
        ddisplay.remove();
    });
    
    test("toggle()", function() {
        expect(9);

        var div, oldHide,
            x = jq("#foo");
    
        ok( x.is(":visible"), "is visible" );
        x.toggle();
        ok( x.is(":hidden"), "is hidden" );
        x.toggle();
        ok( x.is(":visible"), "is visible again" );
    
        x.toggle(true);
        ok( x.is(":visible"), "is visible" );
        x.toggle(false);
        ok( x.is(":hidden"), "is hidden" );
        x.toggle(true);
        ok( x.is(":visible"), "is visible again" );
    
        div = jq("<div style='display:none'><div></div></div>").appendTo("#qunit-fixture");
        x = div.find("div");
        strictEqual( x.toggle().css( "display" ), "none", "is hidden" );
        strictEqual( x.toggle().css( "display" ), "block", "is visible" );
    
        // Ensure hide() is called when toggled (#12148)
        oldHide = jq.fn.hide;
        jq.fn.hide = function() {
            ok( true, name + " method called on toggle" );
            return oldHide.apply( this, arguments );
        };
        x.toggle( name === "show" );
        jq.fn.hide = oldHide;
    });
    
    test("hide hidden elements (bug #7141)", function() {
        expect(3);
        QUnit.reset();
    
        var div = jq("<div style='display:none'></div>").appendTo("#qunit-fixture");
        equal( div.css("display"), "none", "Element is hidden by default" );
        div.hide();
        ok( !jq._data(div, "olddisplay"), "olddisplay is undefined after hiding an already-hidden element" );
        div.show();
        equal( div.css("display"), "block", "Show a double-hidden element" );
    
        div.remove();
    });
    
    test("jq.css(elem, 'height') doesn't clear radio buttons (bug #1095)", function () {
        expect(4);
    
        var $checkedtest = jq("#checkedtest");

        jq.css($checkedtest[0], "height");
    
        ok( jq("input[type='radio']", $checkedtest).first().attr("checked"), "Check first radio still checked." );
        ok( !jq("input[type='radio']", $checkedtest).last().attr("checked"), "Check last radio still NOT checked." );
        ok( jq("input[type='checkbox']", $checkedtest).first().attr("checked"), "Check first checkbox still checked." );
        ok( !jq("input[type='checkbox']", $checkedtest).last().attr("checked"), "Check last checkbox still NOT checked." );
    });
    
    test("internal ref to elem.runtimeStyle (bug #7608)", function () {
        expect(1);
        var result = true;
    
        try {
            jq("#foo").css( { "width": "0%" } ).css("width");
        } catch (e) {
            result = false;
        }
    
        ok( result, "elem.runtimeStyle does not throw exception" );
    });
    
    test("marginRight computed style (bug #3333)", function() {
        expect(1);
    
        var $div = jq("#foo");
        $div.css({
            "width": "1px",
            "marginRight": 0
        });
    
        equal($div.css("marginRight"), "0px", "marginRight correctly calculated with a width and display block");
    });
    
    test("box model properties incorrectly returning % instead of px, see #10639 and #12088", function() {
        expect( 2 );
    
        var container = jq("<div/>").width( 400 ).appendTo("#qunit-fixture"),
            el = jq("<div/>").css({ "width": "50%", "marginRight": "50%" }).appendTo( container ),
            el2 = jq("<div/>").css({ "width": "50%", "minWidth": "300px", "marginLeft": "25%" }).appendTo( container );
    
        equal( el.css("marginRight"), "200px", "css('marginRight') returning % instead of px, see #10639" );
        equal( el2.css("marginLeft"), "100px", "css('marginLeft') returning incorrect pixel value, see #12088" );
    });
    
    test("jq.cssProps behavior, (bug #8402)", function() {
        expect( 2 );
    
        var div = jq( "<div>" ).appendTo(document.body).css({
            "position": "absolute",
            "top": 0,
            "left": 10
        });
        jq.cssProps.top = "left";
        equal( div.css("top"), "10px", "the fixed property is used when accessing the computed style");
        div.css("top", "100px");
        equal( div[0].style.left, "100px", "the fixed property is used when setting the style");
        // cleanup jq.cssProps
        jq.cssProps.top = undefined;
    });
    
    test("widows & orphans #8936", function () {
        var $p = jQuery("<p>").appendTo("#qunit-fixture");

        expect( 2 );

        $p.css({
            "widows": 3,
            "orphans": 3
        });
        
        equal( $p.css( "widows" ) || jQuery.style( $p[0], "widows" ), 3, "widows correctly set to 3" );
        equal( $p.css( "orphans" ) || jQuery.style( $p[0], "orphans" ), 3, "orphans correctly set to 3" );

        $p.remove();
    });
    
    test("can't get css for disconnected in IE<9, see #10254 and #8388", function() {
        expect( 2 );
        var span, div;
    
        span = jq( "<span/>" ).css( "background-image", "url(../data/1x1.jpg)" );
        notEqual( span.css( "background-image" ), null, "can't get background-image in IE<9, see #10254" );
    
        div = jq( "<div/>" ).css( "top", 10 );
        equal( div.css( "top" ), "10px", "can't get top in IE<9, see #8388" );
    });
    
    test("can't get background-position in IE<9, see #10796", function() {
        var div = jq( "<div/>" ).appendTo( "#qunit-fixture" ),
            units = [
                "0 0",
                "12px 12px",
                "13px 12em",
                "12em 13px",
                "12em center",
                "+12em center",
                "12.2em center",
                "center center"
            ],
            l = units.length,
            i = 0;
    
        expect( l );
    
        for( ; i < l; i++ ) {
            div.css( "background-position", units [ i ] );
            ok( div.css( "background-position" ), "can't get background-position in IE<9, see #10796" );
        }
    });
    
    test("percentage properties for bottom and right in IE<9 should not be incorrectly transformed to pixels, see #11311", function() {
        expect( 1 );
        var div = jq("<div style='position: absolute; width: 1px; height: 20px; bottom:50%;'></div>").appendTo( "#qunit-fixture" );
        ok( window.getComputedStyle || div.css( "bottom" ) === "50%", "position properties get incorrectly transformed in IE<8, see #11311" );
    });
    
    if ( jq.fn.offset ) {
        test("percentage properties for left and top should be transformed to pixels, see #9505", function() {
            expect( 2 );
            var parent = jq("<div style='position:relative;width:200px;height:200px;margin:0;padding:0;border-width:0'></div>").appendTo( "#qunit-fixture" ),
                div = jq("<div style='position: absolute; width: 20px; height: 20px; top:50%; left:50%'></div>").appendTo( parent );
    
            equal( div.css("top"), "100px", "position properties not transformed to pixels, see #9505" );
            equal( div.css("left"), "100px", "position properties not transformed to pixels, see #9505" );
        });
    }
    
    test("Do not append px (#9548, #12990)", function() {
        expect( 2 );
    
        var $div = jq("<div>").appendTo("#qunit-fixture");
    
        $div.css( "fill-opacity", 1 );
        equal( $div.css("fill-opacity"), 1, "Do not append px to 'fill-opacity'" );
    
        $div.css( "column-count", 1 );
        if ( $div.css("column-count") ) {
            equal( $div.css("column-count"), 1, "Do not append px to 'column-count'" );
        } else {
            ok( true, "No support for column-count CSS property" );
        }
    });
    
    test("css('width') and css('height') should respect box-sizing, see #11004", function() {
        expect( 4 );
    
        // Support: Firefox, Android 2.3 (Prefixed box-sizing versions).
        var el_dis = jq("<div style='width:300px;height:300px;margin:2px;padding:2px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;'>test</div>"),
            el = el_dis.clone().appendTo("#qunit-fixture");
    
        debugger;
        equal( el.css("width"), el.css("width", el.css("width")).css("width"), "css('width') is not respecting box-sizing, see #11004");
        equal( el_dis.css("width"), el_dis.css("width", el_dis.css("width")).css("width"), "css('width') is not respecting box-sizing for disconnected element, see #11004");
        equal( el.css("height"), el.css("height", el.css("height")).css("height"), "css('height') is not respecting box-sizing, see #11004");
        equal( el_dis.css("height"), el_dis.css("height", el_dis.css("height")).css("height"), "css('height') is not respecting box-sizing for disconnected element, see #11004");
    });
    
    test("certain css values of 'normal' should be convertable to a number, see #8627", function() {
        expect ( 2 );
    
        var el = jq("<div style='letter-spacing:normal;font-weight:normal;'>test</div>").appendTo("#qunit-fixture");
    
        ok( jq.isNumeric( parseFloat( el.css("letterSpacing") ) ), "css('letterSpacing') not convertable to number, see #8627" );
        ok( jq.isNumeric( parseFloat( el.css("fontWeight") ) ), "css('fontWeight') not convertable to number, see #8627" );
    });
    
    // only run this test in IE9
    if ( document.documentMode === 9 ) {
        test( ".css('filter') returns a string in IE9, see #12537", 1, function() {
            equal( jq("<div style='-ms-filter:\"progid:DXImageTransform.Microsoft.gradient(startColorstr=#FFFFFF, endColorstr=#ECECEC)\";'></div>").css("filter"), "progid:DXImageTransform.Microsoft.gradient(startColorstr=#FFFFFF, endColorstr=#ECECEC)", "IE9 returns the correct value from css('filter')." );
        });
    }
    
    test( "cssHooks - expand", function() {
        expect( 15 );
        var result,
            properties = {
                margin: [ "marginTop", "marginRight", "marginBottom", "marginLeft" ],
                borderWidth: [ "borderTopWidth", "borderRightWidth", "borderBottomWidth", "borderLeftWidth"],
                padding: [ "paddingTop", "paddingRight", "paddingBottom", "paddingLeft" ]
            };
    
        jq.each( properties, function( property, keys ) {
            var hook = jq.cssHooks[ property ],
                expected = {};
            jq.each( keys, function( _, key ) {
                expected[ key ] = 10;
            });
            result = hook.expand( 10 );
            deepEqual( result, expected, property + " expands properly with a number" );
    
            jq.each( keys, function( _, key ) {
                expected[ key ] = "10px";
            });
            result = hook.expand( "10px" );
            deepEqual( result, expected, property + " expands properly with '10px'" );
    
            expected[ keys[1] ] = expected[ keys[3] ] = "20px";
            result = hook.expand( "10px 20px" );
            deepEqual( result, expected, property + " expands properly with '10px 20px'" );
    
            expected[ keys[2] ] = "30px";
            result = hook.expand( "10px 20px 30px" );
            deepEqual( result, expected, property + " expands properly with '10px 20px 30px'" );
    
            expected[ keys[3] ] = "40px";
            result = hook.expand( "10px 20px 30px 40px" );
            deepEqual( result, expected, property + " expands properly with '10px 20px 30px 40px'" );
    
        });
    
    });
    
    test( "css opacity consistency across browsers (#12685)", function() {
        expect( 4 );
    
        var el,
            fixture = jq("#qunit-fixture");
    
        // Append style element
        jq("<style>.opacityWithSpaces_t12685 { opacity: 0.1; filter: alpha(opacity = 10); } .opacityNoSpaces_t12685 { opacity: 0.2; filter: alpha(opacity=20); }</style>").appendTo( fixture );
    
        el = jq("<div class='opacityWithSpaces_t12685'></div>").appendTo(fixture);
    
        equal( Math.round( el.css("opacity") * 100 ), 10, "opacity from style sheet (filter:alpha with spaces)" );
        el.removeClass("opacityWithSpaces_t12685").addClass("opacityNoSpaces_t12685");
        equal( Math.round( el.css("opacity") * 100 ), 20, "opacity from style sheet (filter:alpha without spaces)" );
        el.css( "opacity", 0.3 );
        equal( Math.round( el.css("opacity") * 100 ), 30, "override opacity" );
        el.css( "opacity", "" );
        equal( Math.round( el.css("opacity") * 100 ), 20, "remove opacity override" );
    });
    
    test( ":visible/:hidden selectors", function() {
        expect( 8 );
    
        ok( jq("#nothiddendiv").is(":visible"), "Modifying CSS display: Assert element is visible" );
        jq("#nothiddendiv").css({ display: "none" });
        ok( !jq("#nothiddendiv").is(":visible"), "Modified CSS display: Assert element is hidden" );
        jq("#nothiddendiv").css({"display": "block"});
        ok( jq("#nothiddendiv").is(":visible"), "Modified CSS display: Assert element is visible");
        ok( jq(window).is(":visible") || true, "Calling is(':visible') on window does not throw an exception (#10267)");
        ok( jq(document).is(":visible") || true, "Calling is(':visible') on document does not throw an exception (#10267)");
    
        ok( jq("#nothiddendiv").is(":visible"), "Modifying CSS display: Assert element is visible");
        jq("#nothiddendiv").css("display", "none");
        ok( !jq("#nothiddendiv").is(":visible"), "Modified CSS display: Assert element is hidden");
        jq("#nothiddendiv").css("display", "block");
        ok( jq("#nothiddendiv").is(":visible"), "Modified CSS display: Assert element is visible");
    
        // ok( !jq("#siblingspan").is(":visible"), "Span with no content not visible (#13132)" );
        // var $newDiv = jq("<div><span></span></div>").appendTo("#qunit-fixture");
        // equal( $newDiv.find(":visible").length, 0, "Span with no content not visible (#13132)" );
        // var $br = jq("<br/>").appendTo("#qunit-fixture");
        // ok( !$br.is(":visible"), "br element not visible (#10406)");
    
//        var $table = jq("#table");
//        $table.html("<tr><td style='display:none'>cell</td><td>cell</td></tr>");
//        equal(jq("#table td:visible").length, 1, "hidden cell is not perceived as visible (#4512). Works on table elements");
//        $table.css("display", "none").html("<tr><td>cell</td><td>cell</td></tr>");
//        equal(jq("#table td:visible").length, 0, "hidden cell children not perceived as visible (#4512)");
    
//        t( "Is Visible", "#qunit-fixture div:visible:lt(2)", ["foo", "nothiddendiv"] );
//        t( "Is Not Hidden", "#qunit-fixture:hidden", [] );
//        t( "Is Hidden", "#form input:hidden", ["hidden1","hidden2"] );
    });
    
    asyncTest( "Clearing a Cloned Element's Style Shouldn't Clear the Original Element's Style (#8908)", 24, function() {
        var baseUrl = document.location.href.replace( /([^\/]*)$/, "" ),
        styles = [{
                name: "backgroundAttachment",
                value: ["fixed"],
                expected: [ "scroll" ]
            },{
                name: "backgroundColor",
                value: [ "rgb(255, 0, 0)", "rgb(255,0,0)", "#ff0000" ],
                expected: ["transparent"]
            }, {
                // Firefox returns auto's value
                name: "backgroundImage",
                value: [ "url('test.png')", "url(" + baseUrl + "test.png)", "url(\"" + baseUrl + "test.png\")" ],
                expected: [ "none", "url(\"http://static.jquery.com/files/rocker/images/logo_jquery_215x53.gif\")" ]
            }, {
                name: "backgroundPosition",
                value: ["5% 5%"],
                expected: [ "0% 0%", "-1000px 0px", "-1000px 0%" ]
            }, {
                // Firefox returns no-repeat
                name: "backgroundRepeat",
                value: ["repeat-y"],
                expected: [ "repeat", "no-repeat" ]
            }, {
                name: "backgroundClip",
                value: ["padding-box"],
                expected: ["border-box"]
            }, {
                name: "backgroundOrigin",
                value: ["content-box"],
                expected: ["padding-box"]
            }, {
                name: "backgroundSize",
                value: ["80px 60px"],
                expected: [ "auto auto" ]
        }];
    
        jq.each(styles, function( index, style ) {
            var $clone, $clonedChildren,
                $source = jq( "#firstp" ),
                source = $source[ 0 ],
                $children = $source.children();
    
            style.expected = style.expected.concat( [ "", "auto" ] );
    
            if ( source.style[ style.name ] === undefined ) {
                ok( true, style.name +  ": style isn't supported and therefore not an issue" );
                ok( true );
    
                return true;
            }
    
            $source.css( style.name, style.value[ 0 ] );
            $children.css( style.name, style.value[ 0 ] );
    
            $clone = $source.clone();
            $clonedChildren = $clone.children();
    
            $clone.css( style.name, "" );
            $clonedChildren.css( style.name, "" );
    
            window.setTimeout(function() {
                notEqual( $clone.css( style.name ), style.value[ 0 ], "Cloned css was changed" );
    
                ok( jq.inArray( $source.css( style.name ) !== -1, style.value ),
                    "Clearing clone.css() doesn't affect source.css(): " + style.name +
                    "; result: " + $source.css( style.name ) +
                    "; expected: " + style.value.join( "," ) );
    
                ok( jq.inArray( $children.css( style.name ) !== -1, style.value ),
                    "Clearing clonedChildren.css() doesn't affect children.css(): " + style.name +
                    "; result: " + $children.css( style.name ) +
                    "; expected: " + style.value.join( "," ) );
            }, 100 );
        });
    
        window.setTimeout( start, 1000 );
    });
    
    asyncTest( "Make sure initialized display value for disconnected nodes is correct (#13310)", 3, function() {
        var display = jq("#display").css("display"),
            div = jq("<div/>");
    
        equal( div.css( "display", "inline" ).hide().show().appendTo("body").css( "display" ), "inline", "Initialized display value has returned" );
        div.remove();
    
        div.css( "display", "none" ).hide();
        equal( jq._data( div[ 0 ], "olddisplay" ), undefined, "olddisplay is undefined after hiding a detached and hidden element" );
        div.remove();

        div.css( "display", "inline-block" ).hide().appendTo("body").fadeIn(function() {
            equal( div.css( "display" ), "inline-block", "Initialized display value has returned" );
            div.remove();
    
            start();
        });

//        equal( jq._data( jq("#display").css( "display", "inline" ).hide()[ 0 ], "olddisplay" ), display,
//        "display: * !Important value should used as initialized display" );
//        jq._removeData( jq("#display")[ 0 ] );
    });

  </script>
</body>
</html>
